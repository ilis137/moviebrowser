(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{202:function(e,t,n){e.exports=n(351)},207:function(e,t,n){},322:function(e,t,n){},349:function(e,t,n){},351:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(31),i=n.n(o),c=(n(207),n(15)),l=n(20),s=n(21),u=n(23),p=n(22),m=n(24),d=n(37),h=n(46),v=n.n(h),g=n(48),f=n.n(g),E=n(352),O=n(49),b=n.n(O),y=n(55),M=n(19),j=n(107),S=n.n(j),_=n(108),w=n.n(_),C=n(356),I=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSearch=function(e){13===e.which&&""!==e.target.value&&n.props.history.push("/search?movie=".concat(e.target.value))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(v.a,{position:"static",color:"primary",className:e.appbar},r.a.createElement(f.a,null,r.a.createElement(E.a,{to:"/",style:{textDecoration:"none",color:"#ffffff"}},r.a.createElement(S.a,{style:{fontSize:"48px",cursor:"pointer"}})),r.a.createElement("div",{className:e.grow}),r.a.createElement("div",{className:e.search,onKeyDown:this.handleSearch},r.a.createElement("div",{className:e.searchIcon},r.a.createElement(w.a,null)),r.a.createElement(b.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput}})),r.a.createElement("div",{className:e.grow}))))}}]),t}(a.Component),L=Object(C.a)(Object(M.withStyles)(function(e){return{appbar:{background:"#00bfa5"},root:{width:"100%"},grow:{flexGrow:.5},menuButton:{marginLeft:-12,marginRight:20},title:{display:"block"},search:Object(d.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(y.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(y.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(d.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:500,"&:focus":{width:500}})}})(I)),T=n(26),k=n(58),R=n.n(k),A=function(){return{type:"GET_TOP_MOVIES_START"}},V=function(e){return{type:"GET_TOP_MOVIES_SUCCESS",topMovies:e}},x=function(e){return{type:"GET_TOP_MOVIES_FAIL",error:e}},D=function(e){return function(t){t({type:"SEARCH_MOVIE_START"}),R.a.get("https://api.themoviedb.org/3/search/movie?api_key=f59105d2523e3fcebe1e4a83f7abb717&language=en-US&query=".concat(e,"&page=1&include_adult=false")).then(function(e){console.log(e),t({type:"SEARCH_MOVIE_SUCCESS",movies:e.data.results})}).catch(function(e){t(function(e){return{type:"SEARCH_MOVIE_FAIL",error:e}}(e))})}},N=n(50),U=n.n(N),G=n(53),H=n.n(G),P=n(51),F=n.n(P),B=n(52),z=n.n(B),J=n(12),X={cardMedia:{maxHeight:"500px",overflow:"hidden"},card:{cursor:"pointer",height:"380px",overflow:"hidden",margin:"20px"},bgImage:{width:"100%"}},q=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={isMouseOver:!1,movie:n.props.movie},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.movie;return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{style:X.card,onMouseOver:function(){return e.setState({isMouseOver:!0})},onMouseLeave:function(){return e.setState({isMouseOver:!1})},onClick:function(){e.props.openMovieDetails(t)}},r.a.createElement(F.a,{style:X.cardMedia},r.a.createElement("img",{style:X.bgImage,src:"https://image.tmdb.org/t/p/w500"+t.poster_path,alt:t.title}),r.a.createElement(z.a,null,r.a.createElement(H.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.title)))))}}]),t}(a.Component),K=Object(J.b)(null,function(e){return{openMovieDetails:function(t){return e(function(e){return{type:"GET_MOVIE_DETAILS",detailedMovie:e}}(t))}}})(q),Y=(n(322),Object(J.b)(function(e){return{isLoading:e.isLoading}})(function(e){return e.isLoading?r.a.createElement("div",{className:"loader"},"Loading..."):null})),Q={movieColumn:{marginBottom:20}},W=function(e){return r.a.createElement(r.a.Fragment,null,e.movies?e.movies.map(function(e){return r.a.createElement(T.a,{style:Q.movieColumn,item:!0,key:e.id,xs:6,sm:4,md:3,lg:3},r.a.createElement(K,{movie:e}))}):null,r.a.createElement(Y,null))},Z=n(54),$=n.n(Z),ee=function(e){return{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(https://image.tmdb.org/t/p/w780".concat(e,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100%",color:"white",padding:10}},te=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClickOpen=function(){n.setState({open:!0})},n.handleClose=function(){n.setState({open:!1})},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.modalOpen,n=e.movie,a=e.onModalClosed,o=n&&n.genres?n.genres.map(function(e){return e.name}).join(", "):"";return r.a.createElement("div",null,r.a.createElement($.a,{open:t,onClose:a,"aria-labelledby":"responsive-dialog-title",style:{textAlign:"center"}},r.a.createElement("div",{style:ee(n.backdrop_path)},r.a.createElement("h1",null,n.title),r.a.createElement("h5",null,o),r.a.createElement("p",null,n.overview),r.a.createElement("p",null,"Rating: ",n.vote_average),r.a.createElement("p",null,"Release date: ",n.release_date))))}}]),t}(r.a.Component),ne=Object(J.b)(function(e){return{modalOpen:e.modalOpen,movie:e.detailedMovie}},function(e){return{onModalClosed:function(){return e({type:"CLOSE_MOVIE_MODAL"})}}})(te),ae=function(e){return console.log("in moviebrowser"),console.log(e),r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,null),r.a.createElement(T.a,{container:!0,spacing:24},r.a.createElement(T.a,{container:!0},r.a.createElement(W,{movies:e.topMovies}))))},re=(n(349),function(){var e=window.document.documentElement.scrollHeight,t=window.document.documentElement.clientHeight;return(window.pageYOffset+t)/e}),oe=n(355),ie=n(353),ce={movieColumn:{marginBottom:20}},le=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=new URLSearchParams(this.props.location.search),t=!0,n=!1,a=void 0;try{for(var r,o=e.entries()[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value;this.props.searchMovie(i[1])}}catch(c){n=!0,a=c}finally{try{t||null==o.return||o.return()}finally{if(n)throw a}}}},{key:"componentDidUpdate",value:function(e){if(e.location.search!=this.props.location.search){var t=new URLSearchParams(this.props.location.search),n=!0,a=!1,r=void 0;try{for(var o,i=t.entries()[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value;this.props.searchMovie(c[1])}}catch(l){a=!0,r=l}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}}}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,null),r.a.createElement(T.a,{container:!0},this.props.movies?this.props.movies.map(function(e){return r.a.createElement(T.a,{style:ce.movieColumn,item:!0,key:e.id,xs:6,sm:4,md:3,lg:3},r.a.createElement(K,{movie:e}))}):null))}}]),t}(a.Component),se=Object(C.a)(Object(J.b)(null,function(e){return{searchMovie:function(t){return e(D(t))}}})(le)),ue=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={currentpage:1},n.handleScroll=function(){if(!n.props.isLoading&&re()>=1){var e=n.state.currentpage+1;n.props.getTopMovies(e),n.setState(Object(c.a)({},n.state,{currentpage:e}))}},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props),window.onscroll=this.handleScroll,this.props.getTopMovies(this.state.currentpage)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(L,{handleSearch:this.props.searchMovie}),r.a.createElement(oe.a,null,r.a.createElement(ie.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(ae,Object.assign({},t,{topMovies:e.props.topMovies}))}}),r.a.createElement(ie.a,{path:"/search",render:function(t){return r.a.createElement(se,Object.assign({},t,{movies:e.props.movies}))}})))}}]),t}(a.Component),pe=Object(C.a)(Object(J.b)(function(e){return{topMovies:e.topMovies,isLoading:e.isLoading,movies:e.searchedMovieResults}},function(e){return{getTopMovies:function(t){return e(function(e){return function(t){t(A()),R.a.get("https://api.themoviedb.org/3/movie/top_rated?api_key=f59105d2523e3fcebe1e4a83f7abb717&language=en-US&page=".concat(e)).then(function(e){console.log(e),t(V(e.data.results))}).catch(function(e){return t(x(e))})}}(t))},searchMovie:function(t){return e(D(t))}}})(ue)),me=n(112),de=n(32),he=n(75),ve={error:null,isLoading:!1,modalOpen:!1,detailedMovie:"",searchedMovieResults:null,movies:""},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TOP_MOVIES_START":return Object(c.a)({},e,{isLoading:!0});case"CLOSE_MOVIE_MODAL":return Object(c.a)({},e,{modalOpen:!1,detailedMovie:""});case"GET_TOP_MOVIES_SUCCESS":var n=e.topMovies?e.topMovies:[];return Object(c.a)({},e,{topMovies:Object(he.a)(n).concat(Object(he.a)(t.topMovies)),isLoading:!1});case"GET_TOP_MOVIES_FAIL":return Object(c.a)({},e,{error:t.error,isLoading:!1});case"GET_MOVIE_DETAILS":return Object(c.a)({},e,{modalOpen:!0,detailedMovie:t.detailedMovie});case"SEARCH_MOVIE_START":return Object(c.a)({},e,{isLoading:!0});case"SEARCH_MOVIE_SUCCESS":return Object(c.a)({},e,{searchedMovieResults:t.movies,isLoading:!1});case"SEARCH_MOVIE_FAIL":return Object(c.a)({},e,{error:t.error,isLoading:!1});default:return e}},fe=n(354),Ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||de.c,Oe=Object(de.d)(ge,Ee(Object(de.a)(me.a)));console.log("in index");var be=r.a.createElement(J.a,{store:Oe},r.a.createElement(fe.a,null,r.a.createElement(pe,null)));i.a.render(be,document.getElementById("root"))}},[[202,2,1]]]);
//# sourceMappingURL=main.c4cba0fb.chunk.js.map